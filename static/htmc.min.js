((s=/\$([a-zA-Z][a-zA-Z0-9_]*)/g,n=(r,c=[...r.matchAll(s)],o=c.length>0)=>`${o?"el.L=cmp(_=>{":""}
${r}
${o?`},[${c.map(h=>h[1]).join`,`}]);`:""}`,i=r=>`((el,__i=0)=>{
${a(r)}
})`,a=r=>r.replace(s,"$1.v"))=>{elr=(r,c=0)=>{let o=r.tagName,h=`/*${o}*/`;if(o=="svg")h="(_=>0)";else if(o=="SCRIPT"&&r.getAttribute`type`&&r.getAttribute`type`=="text/htmc")h+=`${a(r.innerText)};__i++`;else if(o=="TEMPLATE"&&r.getAttribute`for`){let d=r.getAttribute`for`;h+=i(`let ctr=document.createElement('${r.getAttribute`tag`||"div"}');ctr.loaded=1;el.after(ctr);
for(let attr of el.attributes)ctr.setAttribute(attr.name,attr.value);`+n(`dispose(ctr);ctr.innerHTML='';
for(${a(d)}){
	let cl=el.content.cloneNode(1);
	let start = ctr.children.length;
	ctr.appendChild(cl);
	eval(elr(ctr,start))(ctr,start);
}`))}else{let d="";for(let l of r.attributes)l.name.startsWith`run`?d+=a(n(l.value))+";":l.name.startsWith`on-`&&(d+=`el.addEventListener('${l.name.slice(3)}',e=>{${a(l.value)}});`);for(;c<r.children.length;c++){let l=r.children[c],u=elr(l),g=l.tagName;l.loaded||g=="SCRIPT"||(u=`
${u}(el${c!=null?".children[__i++]":""});`),g=="TEMPLATE"&&(u+="__i++"),d+=u}h+=i(d)}return h}})();class t extends EventTarget{#t;constructor(n){super(),this.#t=n}get v(){return this.#t}set v(n){this.#t!==n&&(this.#t=n,this.up())}up(){this.dispatchEvent(new CustomEvent("change"))}sub(n){return n(),this.addEventListener("change",n),i=>this.rmoveEventListener("change",n)}}class e extends t{constructor(n,i){super(n(...i)),this.ab=new AbortController;for(let a of new Set([...i]))a instanceof t&&a.addEventListener("change",r=>this.v=n(...i),{signal:this.ab.signal})}}dispose=s=>{s.L&&s.L.ab.abort();for(let n of s.children)dispose(n)},sig=s=>new t(s),cmp=(s,n)=>new e(s,n);let htmc=(el,props={})=>{typeof el=="string"&&(el=document.getElementById(el)),eval(elr(el))(el)};
